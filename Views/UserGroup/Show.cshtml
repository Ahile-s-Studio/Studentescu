@model Studentescu.ViewModels.GroupFeedViewModel
@{
    ViewBag.Title = "title";
    Layout = "_Layout";
}

<div>
    <div>
        <img src="@Model.Group.GroupImageUrl" width="50" height="50" alt="Group profile picture"/>
        <h3>@Model.Group.Name</h3>
    </div>
    <h3>@Model.Group.Members.Count() members</h3>
    @if (@Model.IsJoined)
    {
        if (@Model.IsAdmin)
        {
            <form asp-action="Delete" asp-controller="UserGroup" method="post">
                <input type="hidden" name="groupId" value="@Model.Group.Id" />
                <button type="submit">Delete Group</button>
            </form>

        }
        else
        {
            <form asp-action="Leave" asp-controller="UserGroup" method="post">
                <input type="hidden" name="groupId" value="@Model.Group.Id" />
                <button type="submit">Leave Group</button>
            </form>
        }
    }
    else
    {
        <button>Join</button>
    }
    @if (@Model.IsJoined)
    {
        <a href="/Post/Create/@Model.Group.Id">Create New Post</a>
    }
    <a href="/UserGroup/ShowMembers?groupId=@Model.Group.Id">Show Members</a>
    @foreach (var post in @Model.Posts)
    {
        @Html.Partial("_PostCardPartial", post)
    }
    
</div>